apiVersion: tekton.dev/v1
kind: Pipeline
metadata:
  name: docker-build
spec:
  params:
    - name: build-args
      description: Array of --build-arg values ("arg=value" strings) for buildah
      type: array
      default: []
    - name: skip-fbc-related-image-check
      description: Skip fbc-related-image-check
      type: string
      default: "false"
  tasks:
    - name: build-container
      params:
        - name: BUILD_ARGS
          value:
            - $(params.build-args[*])
    - name: fbc-related-image-check
      when:
        - input: $(params.skip-fbc-related-image-check)
          operator: in
          values:
            - "false"
